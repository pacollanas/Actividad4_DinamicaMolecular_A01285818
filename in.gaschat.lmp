# Lennard-Jones system with periodic boundaries - meets points 4, 5, 6, 7

units           lj
dimension       2
boundary        p p p           # Periodic in x and y
atom_style      atomic

# -----------------------------
# PARAMETERS: Modify these easily
# -----------------------------
#variable        lattice_density equal 0.85        # 0.7 - low; 0.85 - medium; 1.0 - high
#variable        initial_temp equal 1.0           # Try 0.3 (solid), 1.0 (liquid), 2.0 (gas)

# --------------
#Solido o Liquido
#----------------
#variable initial_temp equal 0.3
#variable lattice_density equal 0.95

#--------------
#GAS
#-----------------
variable initial_temp equal 2.0
variable lattice_density equal 0.6
# -----------------------------
# INITIAL CONFIGURATION
# -----------------------------
lattice         hex ${lattice_density}
region          box block 0 10 0 10 -0.5 0.5
create_box      1 box
create_atoms    1 box



mass            1 1.0

# -----------------------------
# PAIRWISE INTERACTION (LJ)
# -----------------------------
pair_style      lj/cut 2.5
pair_coeff      * * 1.0 1.0 2.5

neighbor        0.3 bin
neigh_modify    delay 0 every 1

# -----------------------------
# INITIAL VELOCITIES
# -----------------------------
#velocity        all create ${initial_temp} 12345 mom yes rot no


# -----------------------------
# THERMOSTAT: Langevin
# -----------------------------
fix             thermostat all langevin ${initial_temp} ${initial_temp} 1.0 12345

# -----------------------------
# FIXES: Integrator + 2D Constraint
# -----------------------------
fix             integrator all nve
fix             freezeZ all setforce NULL NULL 0.0   # No fuerza en Z
velocity        all set NULL NULL 0.0                # Z-velocidad a 0

# -----------------------------
# COMPUTES AND THERMO OUTPUT
# -----------------------------
compute         ke_all all ke
compute         temp_all all temp

thermo          100
thermo_style    custom step temp c_ke_all pe etotal

# Guardar output en archivo
log             thermo_output.log

# -----------------------------
# DUMP POSITIONS FOR ANALYSIS
# -----------------------------
dump            1 all custom 200 traj.lammpstrj id type x y z vx vy vz
dump_modify     1 sort id

# -----------------------------
# TIME STEP AND RUN
# -----------------------------
timestep        0.0025
run             50000